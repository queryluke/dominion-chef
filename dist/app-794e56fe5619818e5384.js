webpackJsonp([1],[,function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=t(0),r=a(s);r["default"].module("app").run(["$templateCache",function(e){e.put("app/components/About.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-12 text-center">\n                <h2>About The Dominion Chef</h2>\n                <p>\n                    The Dominion Chef gives you more control when you generate Dominion decks.\n                    Can it randomly generate a card set? Sure! But it does a lot more. Want a friendly game?\n                    Remove all attack cards. Want a game with a lot to do each turn? Ramp up the number of action cards.\n                    Want a low cost game? Reduce the total cost of all cards. You pick the ingredients and let the Dominion\n                    Chef do the work!\n                </p>\n            </div>\n            <div class="col-sm-12 col-md-8">\n                <h3>Author <small>(shameless self-promotion)</small></h3>\n                <ul>\n                    <li>\n                        Luke Aeschleman:\n                        <a href="https://github.com/queryluke" target="_blank"><i class="fa fa-github"></i></a>\n                        |\n                        <a href="https://www.linkedin.com/in/luke-aeschleman-5a20a754" target="_blank"><i class="fa fa-linkedin-square"></i></a>\n                        |\n                        <a href="https://plus.google.com/u/0/+LukeAeschleman" target="_blank"><i class="fa fa-google-plus"></i></a>\n                        |\n                        <a href="https://twitter.com/queryluke" target="_blank"><i class="fa fa-twitter"></i></a>\n                    </li>\n                </ul>\n                <h3>Techs</h3>\n                <ul>\n                    <li><a href="https://angularjs.org" target="_blank">AngularJS 1</a></li>\n                    <li>Scaffolded by the amazing <a href="http://fountainjs.io/" target="_blank">FountainJS</a></li>\n                    <li>CSS Framework: <a href="http://getbootstrap.com/" target="_blank">Bootstrap (v6-alpha)</a></li>\n                    <li>Major props to the creators of <a href="https://github.com/angular-slider/angularjs-slider" target="_blank">angular-slider</a></li>\n                    <li>Share features made easy by <a href="https://github.com/720kb/angular-socialshare">720kb\'s Angular Socialshare</a></li>\n                    <li>Copy & Paste by: <a href="https://github.com/omichelsen/angular-clipboard">Angular Clipboard</a></li>\n                </ul>\n                <h3>Inspiration</h3>\n                <ul>\n                    <li>Stretchy Nav inspired by: <a href="https://codyhouse.co/gem/stretchy-navigation/" target="_blank">CodyHouse</a></li>\n                    <li>Page Transitions inspired by: <a href="http://tympanus.net/codrops/author/pbotelho/" target="_blank">Pedro Botelho</a> <a href="http://tympanus.net/codrops/2013/05/07/a-collection-of-page-transitions/">@codrops</a></li>\n                </ul>\n                <h3>Graphics and Images</h3>\n                <ul>\n                    <li>Card Images from <a href="http://wiki.dominionstrategy.com/index.php/Main_Page" target="blank">Dominion Strategy Wiki</a></li>\n                    <li><a href="http://boardgamegeek.com/filepage/73273/dominion-card-icons-vector-images">SVG Icons</a> created by <a href="http://boardgamegeek.com" target="_blank">BoardGameGeek</a> user <a href="http://boardgamegeek.com/user/m_knox" target="_blank">m_knox</a></li>\n                    <li>All other icons from <a href="http://fontawesome.io/">FontAwesome</a></li>\n                </ul>\n            </div>\n            <div class="col-sm-12 col-md-4">\n                <h3>Future Features <small>(a.k.a. todo list)</small></h3>\n                <ul>\n                    <li>Adventures, Empires, and Promos</li>\n                    <li>2nd Ed. of Base Set</li>\n                    <li><s>Mobile Friendlier</s></li>\n                    <li><s>Clean up the code (round 1)</s></li>\n                    <li>Swap playset card</li>\n                    <li><s>Share playset via text</s></li>\n                    <li>PreDefined Option Sets</li>\n                    <li>Guide / Better Tutorial</li>\n                    <li><s>Standardize Page Transitions</s></li>\n                    <li>Card Enter Animations</li>\n                    <li>Better balance logic, less build failures</li>\n                    <li><s>Fancier sharing UI</s></li>\n                    <li>Toggle OR/AND logic for inventory</li>\n                </ul>\n            </div>\n            <div class="col-12 changelog">\n                <h3>Changelog</h3>\n                <div class="change">\n                    <h4>June 9, 2017</h4>\n                    <ul>\n                        <li>Updated Bootstrap to v4.0.0-alpha.6</li>\n                        <li>Changed site from DomEngine to The Dominion Chef</li>\n                    </ul>\n                </div>\n                <div class="change">\n                    <h4>Oct 27, 2016</h4>\n                    <p>Fixed bug with gh-pages and sharing features</p>\n                </div>\n                <div class="change">\n                    <h4>Oct 24, 2016</h4>\n                    <p>Added sharing features. Need to rework UI, make it fancy...</p>\n                </div>\n                <div class="change">\n                    <h4>Oct 23, 2016</h4>\n                    <p>Fixed bugs in the playset build</p>\n                </div>\n                <div class="change">\n                    <h4>Oct 15, 2016</h4>\n                    <p><strong>Fixed Bug:</strong> Repeating Inventory Type options</p>\n                </div>\n                <div class="change">\n                    <h4>Oct 14, 2016</h4>\n                    <ul>\n                        <li>Changed <em>Playset</em> view to <em>Playmat</em></li>\n                        <li>Moved hefty amount of logic from main controller (<em>DomEngine.js</em>) to new model <em>Playset.js</em></li>\n                        <li>\n                            New Playset Model allows:\n                            <ul>\n                                <li>Adding & Removing cards</li>\n                                <li>Calculate playset totals (total card types & card additions</li>\n                                <li>Import playset from ID string</li>\n                                <li>Find required cards</li>\n                            </ul>\n                        </li>\n                    </ul>\n                </div>\n                <div class="change">\n                    <h4>Sep 18, 2016</h4>\n                    <p>Playsets have unique ids. First step towards sharing!</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/AdvancedOptions.html",'<div class="pt-page-content mb-3">\n    <div class="container mt-1">\n        <div class="row">\n            <div class="col-12 text-center">\n                <h1>Build Options</h1>\n            </div>\n        </div>\n        <div class="row mt-2 text-center">\n            <div class="col-12">\n                <h2>Expansions</h2>\n                <expansion-list expansions="$ctrl.config.expansions"></expansion-list>\n            </div>\n        </div>\n        </div>\n        <div class="row mt-2">\n            <div class="col-12">\n                <button class="btn btn-primary" ng-click="$ctrl.handleBuild()">Build a Playset</button>\n                <button class="btn btn-outline-warning pull-right" ng-click="$ctrl.handleResetOptions()">Reset Options</button>\n            </div>\n        </div>\n        <div class="section-divider"></div>\n        <div class="row mt-2">\n            <div class="col-12 text-center">\n                <h2>Advanced Options</h2>\n            </div>\n        </div>\n        <div class="row mt-1">\n            <div class="col-12">\n                <h3>Limit Card Types\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'cardTypes\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'cardTypes\'">\n                    <p>\n                        For each slider, set the max number of that type you want in your playset.\n                        For a 100% random playset, (without any balancing) set all values to 10\n                    </p>\n                </div>\n                <div class="row">\n                    <div class="col-12 col-sm-6 col-md-4" ng-repeat="(type, value) in $ctrl.config.limits track by $index">\n                        <label class="text-capitalize">{{ type }}</label>\n                        <rzslider rz-slider-model="$ctrl.config.limits[type]" rz-slider-options="{floor: 0, ceil: 10}"></rzslider>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row mt-1">\n            <div class="col-12">\n                <h3>Limit Max Cost\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'maxCost\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'maxCost\'">\n                    <p>\n                        The total cost of all Kingdom Cards. 39, 42, and 49 are great starting points.\n                    </p>\n                    <p>\n                        <strong>Note:</strong> For Prosperity, it\'s recommended to use the max setting of 73.\n                    </p>\n                    <p>\n                        <strong>Caveat:</strong> Occasionally, The Dominion Chef cannot find a card below the required cost. For example, if the max\n                        cost is 39, and the first 9 Kingdom Cards total 38 (there are no 1 cost cards). In this instance, the last card\n                        in will be fetched without a max limit. Something that will be remedied in later versions.\n                    </p>\n                </div>\n                <div class="row">\n                    <div class="col-12">\n                        <rzslider rz-slider-model="$ctrl.config.cost" rz-slider-options="{floor: 20, ceil: 73, onChange: $ctrl.change()}"></rzslider>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row mt-1">\n            <div class="col-12">\n                <h3>Card Abilities (finicky)\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'cardAbilities\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'cardAbilities\'">\n                    <p>\n                        Cards can add additional attacks, buys, coin, and draws to your turn. You can set the min & max value for each ability.\n                        This setting is based on the ability amount, not the card count. For example: "Festival" counts for\n                        2 coins, 2 actions, and 1 buy. Cards that potentially add abilities count for 1 (e.g. Library).\n                    </p>\n                    <p>\n                        <strong>Note:</strong> Disable the ability check by setting both values to 0.\n                    </p>\n                    <p>\n                        <strong class="text-warning">Warning</strong>: To prevent playset build errors, it\'s recommended to leave the lower bound &lt; 4, and the upper bound &gt; 5.\n                        This feature will be improved in later releases.\n                    </p>\n                </div>\n                <div class="row">\n                    <div class="col-sm-12 col-md-6" ng-repeat="(type, value) in $ctrl.config.adds track by $index">\n                        <label class="text-capitalize">{{ type }}</label>\n                        <rzslider rz-slider-model="$ctrl.config.adds[type].min" rz-slider-high="$ctrl.config.adds[type].max" rz-slider-options="{floor: 0, ceil: 10}"></rzslider>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n'),e.put("app/components/Card.html",'<div class="dom-card">\n    <img class="card-image" ng-src="{{ $ctrl.card.image }}" alt="{{ $ctrl.card.name }}" ng-if="$ctrl.$storage.useImages">\n    <div class="card-desc" ng-show="!$ctrl.$storage.useImages">\n        <h4 class="card-title"><small>{{ $ctrl.card.name }}</small></h4>\n        <div class="card-text-wrapper">\n            <p class="card-text" ng-repeat="text in $ctrl.card.text track by $index">{{ text }}</p>\n        </div>\n        <div class="card-cost-wrapper">\n            <div class="card-cost" ng-if="$ctrl.card.cost.coin">{{ $ctrl.getCardCost() }}</div>\n            <div ng-if="$ctrl.card.cost.potion" class="card-icon add-cost-icon">\n                <svg>\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="icons.svg#icon-alchemy"></use>\n                </svg>\n            </div>\n        </div>\n        <div class="card-types text-capitalize">\n            {{ $ctrl.getCardTypes() }}\n        </div>\n        <div class="card-icon card-expansion-icon">\n            <svg>\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{ $ctrl.getCardExpansion($ctrl.card.set) }}"></use>\n            </svg>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/CardList.html",'<div class="flex-container text-center">\n    <dominion-card ng-repeat="card in $ctrl.cards track by $index" card="card"></dominion-card>\n</div>\n'),e.put("app/components/ExpansionList.html",'<div class="row mt-1 justify-content-center">\n    <div ng-repeat="expac in $ctrl.expansions track by $index" class="dominion-icon-select" ng-class="{\'selected\': expac.use}" ng-click="expac.use = !expac.use; $ctrl.onClickAction()">\n        <svg>\n            <use xlink:href="{{ $ctrl.getIcon(expac) }}"></use>\n        </svg>\n        <span class="icon-text">{{ expac.name }}</span>\n    </div>\n</div>\n'),e.put("app/components/Inventory.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-sm-12 col-lg-4 text-xs-right text-sm-center text-lg-left">\n                <h1>Inventory</h1>\n            </div>\n        </div>\n\n        <search-form search-params="$ctrl.searchParams" on-search="$ctrl.search()"></search-form>\n\n        <div class="row mt-2">\n            <div class="col-12">\n\n                <a ng-click="$ctrl.$storage.useImages = !$ctrl.$storage.useImages" class="btn btn-sm btn-info" style="position: absolute; right: 2rem">\n                    <i class="fa fa-picture-o"></i>\n                    <span id="imageStrikeThrough" ng-if="$ctrl.$storage.useImages"></span>\n                    <span class="hidden-xs-down">Card Images</span>\n                </a>\n\n                <h2 ng-if="$ctrl.results.length">{{ $ctrl.results.length }} card<span ng-if="$ctrl.results.length > 1">s</span> found</h2>\n                <h2 ng-if="!$ctrl.results.length">No results found!</h2>\n\n                <div class="text-center">\n                    <card-list cards="$ctrl.results"></card-list>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/Nav.html",'<nav class="stretchy-nav" ng-class="{\'nav-open\': $ctrl.showMenu}">\n    <a class="nav-trigger" ng-click="$ctrl.showMenu = !$ctrl.showMenu">\n        <span class="sr-only">Menu</span>\n        <span aria-hidden="true"></span>\n    </a>\n    <ul class="list-unstyled">\n        <li><a href="welcome" ng-class="{active: $ctrl.$state.current.name == \'welcome\'}">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-home fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Home</span></a>\n        </li>\n        <li><a href="playset" ng-class="{active: $ctrl.$state.current.name == \'playset\'}">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-gamepad fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Playset</span></a>\n        </li>\n        <li><a ng-href="advanced-options" ng-class="{active: $ctrl.$state.current.name == \'advancedOptions\'}">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-cogs fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Options</span></a>\n        </li>\n        <li><a ng-href="inventory" ng-class="{active: $ctrl.$state.current.name == \'inventory\'}">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-cubes fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Inventory</span></a>\n        </li>\n        <li><a ng-href="about" ng-class="{active: $ctrl.$state.current.name == \'about\'}">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-info-circle fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">About</span></a>\n        </li>\n        <li><a href="https://github.com/queryluke/dominion-chef" target="_blank">\n            <span class="text-center icon-wrapper">\n                <i class="fa fa-github fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Github</span></a>\n        </li>\n    </ul>\n\n    <span aria-hidden="true" class="stretchy-nav-bg"></span>\n</nav>'),e.put("app/components/Playmat.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-sm-12 col-lg-4 text-xs-right text-sm-center text-lg-left">\n                <h1>Playset</h1>\n            </div>\n            <div class="col-sm-12 col-lg-8 text-xs-right text-sm-center text-lg-right">\n                <button class="btn btn-outline-success share-button" ng-class="{\'open\': $ctrl.shareOpen}" ng-click="$ctrl.toggleShare()">\n                    <i class="fa fa-share-alt"></i>\n                    <span class="hidden-xs-down"> Share</span>\n                </button>\n                <button class="btn btn-outline-primary" ng-click="$ctrl.onBuild()">\n                    <i class="fa fa-refresh"></i>\n                    <span class="hidden-xs-down"> Re-build</span>\n                </button>\n                <a ng-href="advanced-options" class="btn btn-outline-secondary">\n                    <i class="fa fa-cogs"></i>\n                    <span class="hidden-xs-down">Build Options</span>\n                </a>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-12 mt-1">\n                <!-- errors -->\n                <div class="alert alert-danger" ng-if="$ctrl.errors.length">\n                    <h3>Oops, something went wrong</h3>\n                    <ul>\n                        <li ng-repeat="error in $ctrl.errors track by $index">{{ error }}</li>\n                    </ul>\n                </div>\n                <!-- warnings -->\n                <div class="alert alert-warning" ng-if="$ctrl.warning.length">\n                    <h3>Notice</h3>\n                    <ul>\n                        <li ng-repeat="warn in $ctrl.warning track by $index">{{ warn }}</li>\n                    </ul>\n                </div>\n                <div class="well">\n                    <a ng-click="$ctrl.$storage.useImages = !$ctrl.$storage.useImages" class="btn btn-sm btn-info" style="position: absolute; right: 2rem">\n                        <i class="fa fa-picture-o"></i>\n                        <span id="imageStrikeThrough" ng-if="$ctrl.$storage.useImages"></span>\n                        <span class="hidden-xs-down">Card Images</span>\n                    </a>\n                    <h2>Kingdom Cards</h2>\n                    <card-list cards="$ctrl.playset.cards"></card-list>\n                    <h2>Supply Cards</h2>\n                    <card-list cards="$ctrl.treasure"></card-list>\n                    <card-list cards="$ctrl.victory"></card-list>\n                    <card-list cards="$ctrl.ruins"></card-list>\n                    <h2 ng-if="$ctrl.playset.requiredCards.other.length">Additional Required Cards</h2>\n                    <card-list cards="$ctrl.playset.requiredCards.other"></card-list>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/SearchForm.html",'<div class="row">\n    <!-- Text -->\n    <div class="col-12 col-sm-6">\n        <h5>Text</h5>\n        <input type="text" class="form-control" id="cardName" ng-model="$ctrl.searchParams.name" ng-change="$ctrl.onSubmit()">\n    </div>\n    <!-- Cost -->\n    <div class="col-12 col-sm-6">\n        <div class="row">\n            <div class="form-group col-12 col-sm-6">\n                <h5>Min Cost</h5>\n                <input type="number" min="0" max="8" class="form-control" id="minCost" ng-model="$ctrl.searchParams.costL" ng-change="$ctrl.onSubmit()">\n            </div>\n            <div class="form-group col-12 col-sm-6">\n                <h5>Max Cost</h5>\n                <input type="number" min="0" max="8" class="form-control" id="maxCost" ng-model="$ctrl.searchParams.costG" ng-change="$ctrl.onSubmit()">\n            </div>\n        </div>\n        <!--<rzslider\n                rz-slider-model="$ctrl.searchParams.costL"\n                rz-slider-high="$ctrl.searchParams.costG"\n                rz-slider-options="{floor: 0, ceil: 8"></rzslider>-->\n    </div>\n</div>\n\n<!-- Expansions -->\n<div class="row mt-1">\n    <div class="col-12">\n        <h5>Expansions</h5>\n        <div class="text-center">\n            <expansion-list expansions="$ctrl.searchParams.expansions" on-click-action="$ctrl.onSubmit()"></expansion-list>\n        </div>\n    </div>\n</div>\n\n<!-- Types -->\n<div class="row mt-1">\n    <div class="col-12">\n        <h5>Types</h5>\n        <div class="form-check form-check-inline" ng-repeat="(type,value) in $ctrl.searchParams.types" for="{{ type }}">\n            <label class="form-check-label text-capitalize">\n                <input type="checkbox" id="{{ type }}" ng-model="$ctrl.searchParams.types[type]" ng-change="$ctrl.onSubmit()" class="form-check-input">\n                {{ type }}\n            </label>\n        </div>\n    </div>\n</div>\n\n<!-- Attributes -->\n<div class="row mt-1">\n    <div class="col-12">\n        <h5>Attributes</h5>\n        <div class="form-check form-check-inline" ng-repeat="(type,value) in $ctrl.searchParams.adds" for="add-{{ type }}">\n            <label class="form-check-label text-capitalize">\n                <input type="checkbox" id="add-{{ type }}" ng-model="$ctrl.searchParams.adds[type]" ng-change="$ctrl.onSubmit()" class="form-check-input">\n                +{{ type }}\n            </label>\n        </div>\n    </div>\n</div>\n\n'),e.put("app/components/Share.html",'<div class="share-overlay" ng-class="{\'open\': $ctrl.open}">\n    <div class="share-modal">\n        <div class="container share-content">\n            <div class="row">\n                <div class="col-12 col-sm-10 offset-sm-1 col-lg-8 offset-lg-2 text-center">\n                    <!-- TODO: Write some hilarious sharing tag lines and randomize when you share -->\n                    <h4>Share the Playset</h4>\n\n                    <!-- text message -->\n                    <a href="#" class="btn btn-outline-secondary btn-block" socialshare socialshare-provider="sms" socialshare-text="Checkout my Dominion Playset: {{ $ctrl.getShareUrl() }}">\n                        <i class="fa fa-comments-o fa-lg" aria-hidden="true"></i> Text Message <small>(mobile only)</small>\n                    </a>\n\n                    <!-- email -->\n                    <a href="#" class="btn btn-outline-secondary btn-block" socialshare socialshare-provider="email" socialshare-subject="Checkout my Dominion Playset" socialshare-body="{{ $ctrl.getShareUrl() }}">\n                        <i class="fa fa-envelope fa-lg" aria-hidden="true"></i> Email\n                    </a>\n\n                    <!-- twitter -->\n                    <a href="#" class="btn btn-outline-secondary btn-block" socialshare socialshare-provider="twitter" socialshare-url="{{ $ctrl.getShareUrl() }}" socialshare-text="Checkout my Dominion Playset:">\n                        <i class="fa fa-twitter fa-lg" aria-hidden="true"></i> Twitter\n                    </a>\n\n                    <!-- facebook messenger -->\n                    <a href="#" class="btn btn-outline-secondary btn-block" socialshare socialshare-provider="facebook-messenger" socialshare-url="{{ $ctrl.getShareUrl() }}">\n                        <i class="fa fa-facebook-square fa-lg" aria-hidden="true"></i> Facebook Messenger <small>(mobile only)</small>\n                    </a>\n\n                    <!-- Copy to clipboard -->\n                    <div class="row mt-1">\n                        <div class="col-12">\n                            <div class="input-group">\n                                <input type="text" class="form-control" value="{{ $ctrl.getShareUrl() }}" aria-describedby="copy-button" disabled="disabled">\n                                <span class="input-group-btn" id="copy-button">\n                                    <button clipboard supported="supported" text="$ctrl.getShareUrl()" class="btn btn-outline-secondary">\n                                        <i class="fa fa-clipboard fa-lg" aria-hidden="true"></i>\n                                    </button>\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="share-close text-center">\n            <button class="btn btn-outline-secondary close-share" ng-click="$ctrl.toggleShare()">Close</button>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/Welcome.html",'<div class="pt-page-content">\n    <div class="welcome-tron">\n        <h1>\n            <svg xmlns:xlink="http://www.w3.org/1999/xlink" id="chefHat" class="hidden-xs-down">\n                <use xlink:href="chef-hat.svg#chefHat"></use>\n            </svg>\n            Dominion Chef\n            <svg xmlns:xlink="http://www.w3.org/1999/xlink" id="chefMoustache" class="hidden-sm-down">\n                <use xlink:href="chef-moustache.svg#chefMoustache"></use>\n            </svg>\n        </h1>\n        <p class="text mt-4 lead">A customizable card set generator for Dominion</p>\n\n        <div class="build-form">\n            <h2>Choose Your Expansions</h2>\n            <expansion-list expansions="$ctrl.expansions"></expansion-list>\n            <div class="row justify-content-center">\n                <div class="col-12">\n                    <button class="btn btn-primary" id="build" ng-click="$ctrl.handleBuild()">Build a Playset</button>\n                </div>\n                <div class="col-12">\n                    <p style="margin-top:10px"><a ng-href="advanced-options"><small>Advanced Options</small></a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row justify-content-center">\n        <div class="col welcome-footer text-center hidden-xs-down">\n            <p class="text">\n                <small style="line-height: .5rem">\n                    Images served from the\n                    <a href="http://wiki.dominionstrategy.com/index.php/Main_Page" target="blank">Dominion Strategy Wiki</a>,\n                    and are available under\n                    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">\n                        Creative Commons Attribution Non-Commercial Share Alike\n                    </a>\n                </small>\n                <br>\n                <small style="line-height: .5rem">\n                    <a href="http://boardgamegeek.com/filepage/73273/dominion-card-icons-vector-images">SVG Icons</a>\n                    created by <a href="http://boardgamegeek.com" target="_blank">BoardGameGeek</a> user\n                    <a href="http://boardgamegeek.com/user/m_knox" target="_blank">m_knox</a>.\n                </small>\n            </p>\n        </div>\n    </div>\n</div>\n'),e.put("app/containers/DomEngine.html",'<domengine-nav></domengine-nav>\n<div id="pt-main" class="pt-perspective">\n    <ui-view id="{{$root.$state}}" class="{{$root.$previousState}} pt-page"></ui-view>\n</div>\n<share open="$ctrl.shareOpen" toggle-share="$ctrl.toggleShare()"></share>\n\n')}])},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=t(0),r=a(s),i=t(26),o=t(13),l=t(14),c=t(15),d=t(16),u=t(17),p=t(18),h=t(19),f=t(20),g=t(21),m=t(22),v=t(23),y=t(24),b=t(27),$=a(b);t(8),t(4),t(31),t(10),t(7),t(5);var x=t(29),w=a(x),k=t(30),C=a(k);t(12),r["default"].module("app",["ui.router","ngAnimate","ngStorage","rzModule","720kb.socialshare","angular-clipboard"]).config(w["default"]).service("DomEngineService",o.DomEngineService).component("about",l.About).component("advancedOptions",c.AdvancedOptions).component("cardList",u.CardList).component("domengine",i.DomEngine).component("domengineNav",f.Nav).component("dominionCard",d.Card).component("expansionList",p.ExpansionList).component("inventory",h.Inventory).component("playmat",g.Playmat).component("searchForm",m.SearchForm).component("share",v.Share).component("welcome",y.Welcome).directive("checkLoaded",$["default"]).run(C["default"])},,,,,,,,,,function(e,n){},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();n.DomEngineService=function(){function e(n){t(this,e),this.$http=n}return e.$inject=["$http"],a(e,[{key:"getCards",value:function(){function e(e){return e.data}function n(e){console.log("XHR Failed for getCards."),console.log(e.data)}return this.$http.get("data/cards.json").then(e)["catch"](n)}},{key:"getSets",value:function(){function e(e){return e.data}function n(e){console.log("XHR Failed for getSets."),console.log(e.data)}return this.$http.get("data/sets.json").then(e)["catch"](n)}},{key:"getSupplyCards",value:function(){function e(e){return e.data}function n(e){console.log("XHR Failed for getSets."),console.log(e.data)}return this.$http.get("data/supplyCards.json").then(e)["catch"](n)}},{key:"bootstrapDomEngine",value:function(){function e(e){return e}function n(e){console.log("XHR Failed for bootstrapDomEngine."),console.log(e)}return Promise.all([this.getSets(),this.getCards(),this.getSupplyCards()]).then(e)["catch"](n)}}]),e}()},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.About={templateUrl:"app/components/About.html"}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),
a&&e(n,a),n}}(),s=function(){function e(){t(this,e)}return a(e,[{key:"$onInit",value:function(){this.showHelpText=""}},{key:"toggleHelpText",value:function(e){this.showHelpText=this.showHelpText===e?"":e}},{key:"handleResetOptions",value:function(){this.resetOptions()}},{key:"handleBuild",value:function(){this.onBuild()}}]),e}();n.AdvancedOptions={templateUrl:"app/components/AdvancedOptions.html",controller:s,bindings:{config:"<",resetOptions:"&",onBuild:"&"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(n){t(this,e),this.$storage=n}return e.$inject=["$localStorage"],a(e,[{key:"getCardCost",value:function(){return this.card.cost.coin.replace("plus","*")}},{key:"getCardTypes",value:function(){var e=this.card.types.filter(function(e){return"supply"!==e});return e.join(" - ")}},{key:"getCardExpansion",value:function(e){if(e){var n=e.toLowerCase().replace(" ","");return"icons.svg#icon-"+n}}}]),e}();s.$inject=["$localStorage"];n.Card={templateUrl:"app/components/Card.html",controller:s,bindings:{card:"<"}}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.CardList={templateUrl:"app/components/CardList.html",bindings:{cards:"<"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(){t(this,e)}return a(e,[{key:"getIcon",value:function(e){var n=e.name.toLowerCase().replace(" ","");return"icons.svg#icon-"+n}}]),e}();n.ExpansionList={templateUrl:"app/components/ExpansionList.html",controller:s,bindings:{expansions:"<",onClickAction:"&"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(n){t(this,e),this.$storage=n,this.searchParams={name:"",types:this.cardTypes,costL:0,costG:8,expansions:this.expansions,adds:{action:!1,buy:!1,coin:!1,draw:!1}},this.results=[],console.log(this.searchParams.types)}return e.$inject=["$localStorage"],a(e,[{key:"$onInit",value:function(){this.search()}},{key:"$onChanges",value:function(e){e.cardTypes&&(this.searchParams.types=Object.assign({},this.cardTypes)),e.expansions&&(this.searchParams.expansions=Object.assign([],this.expansions)),e.inventory&&(this.inventory=Object.assign([],this.inventory))}},{key:"search",value:function(){var e=this,n=this.inventory;if(this.searchParams.name){var t=new RegExp(this.searchParams.name,"gi");n=n.filter(function(e){return t.test(e.name.concat(e.text.join()))===!0})}var a=[];for(var s in this.searchParams.types)this.searchParams.types[s]&&a.push(s);a.length>0&&(n=n.filter(function(e){var n=0,t=!0,s=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;n=e.types.includes(l)?n+1:n}}catch(c){s=!0,r=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(s)throw r}}return n>0}));var r=[];for(var i in this.searchParams.adds)this.searchParams.adds[i]&&r.push(i);r.length>0&&(n=n.filter(function(e){var n=0,t=!0,a=!1,s=void 0;try{for(var i,o=r[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;e.adds&&(n=e.adds[l]>0?n+1:n)}}catch(c){a=!0,s=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(a)throw s}}return n>0}));var o=[],l=!0,c=!1,d=void 0;try{for(var u,p=this.searchParams.expansions[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var h=u.value;h.use&&o.push(h.name)}}catch(f){c=!0,d=f}finally{try{!l&&p["return"]&&p["return"]()}finally{if(c)throw d}}o.length>0&&(n=n.filter(function(e){var n=0,t=!0,a=!1,s=void 0;try{for(var r,i=o[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var l=r.value;n=e.set===l?n+1:n}}catch(c){a=!0,s=c}finally{try{!t&&i["return"]&&i["return"]()}finally{if(a)throw s}}return n>0})),n=n.filter(function(n){return parseInt(n.cost.coin,10)>=e.searchParams.costL}),n=n.filter(function(n){return parseInt(n.cost.coin,10)<=e.searchParams.costG}),this.results=n}}]),e}();s.$inject=["$localStorage"];n.Inventory={templateUrl:"app/components/Inventory.html",controller:s,bindings:{expansions:"<",inventory:"<",cardTypes:"<"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(n){t(this,e),this.$state=n}return e.$inject=["$state"],a(e,[{key:"$onInit",value:function(){this.showMenu=!1}}]),e}();n.Nav={templateUrl:"app/components/Nav.html",controller:s}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(n){t(this,e),this.$storage=n}return e.$inject=["$localStorage"],a(e,[{key:"$onInit",value:function(){this.setSupplyCards()}},{key:"$onChanges",value:function(e){e.playset&&this.setSupplyCards()}},{key:"setSupplyCards",value:function(){this.treasure=this.filterByType(this.playset.requiredCards.supply,"treasure"),this.victory=this.filterByType(this.playset.requiredCards.supply,"victory"),this.ruins=this.filterByType(this.playset.requiredCards.supply,"ruins")}},{key:"filterByType",value:function(e,n){return e.filter(function(e){return e.types.includes(n)})}}]),e}();n.Playmat={templateUrl:"app/components/Playmat.html",controller:s,bindings:{playset:"<",onBuild:"&",errors:"<",warning:"<",toggleShare:"&",shareOpen:"<"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(){t(this,e)}return a(e,[{key:"onSubmit",value:function(){this.onSearch()}}]),e}();n.SearchForm={bindings:{searchParams:"<",onSearch:"&"},templateUrl:"app/components/SearchForm.html",controller:s}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(n,a){t(this,e),this.$state=n,this.$storage=a}return e.$inject=["$state","$localStorage"],a(e,[{key:"getShareUrl",value:function(){return this.$state.href("welcome",{},{absolute:!0})+"?p="+this.$storage.playset.id}}]),e}();n.Share={templateUrl:"app/components/Share.html",controller:s,bindings:{open:"<",toggleShare:"&"}}},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),s=function(){function e(){t(this,e)}return a(e,[{key:"handleBuild",value:function(){console.log("build"),this.onBuild()}}]),e}();n.Welcome={templateUrl:"app/components/Welcome.html",controller:s,bindings:{onBuild:"&",expansions:"<"}}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={cost:42,adds:{action:{min:3,max:6},coin:{min:1,max:6},buy:{min:2,max:6},draw:{min:1,max:6}},limits:{attack:2,treasure:1,victory:1,duration:1,reaction:1,curse:1},requireAttackCounter:!0,expansions:{}}},function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DomEngine=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(25),c=a(l),d=t(28),u=a(d),p=function(){function e(n,t,a,s){r(this,e),this._ds=a,this.$storage=n,this.$state=t,this.$log=s}return e.$inject=["$localStorage","$state","DomEngineService","$log"],o(e,[{key:"$onInit",value:function(){var e=this;this.baseConfig=JSON.parse(JSON.stringify(c["default"])),this.errors=[],this.warning=[],this.supplyCards=[],this.expansions=[],this.cardTypes={},this.inventory=[],this.shareOpen=!1,this._ds.bootstrapDomEngine().then(function(n){if(e.baseConfig.expansions=n[0],e.$storage.expansions=n[0],e.expansions=n[0],e.cards=n[1],e.supplyCards=n[2],e.inventory=n[1].concat(n[2]),e.cardTypes=e.getTypes(e.inventory),e.$state.params.p){console.log("params");var t=new u["default"];e.$storage.playset=t.importPlayset(e.$state.params.p,e.inventory),e.$state.transitionTo("playset")}}),void 0===this.$storage.config&&(this.$storage.config=this.baseConfig)}},{key:"getTypes",value:function(e){var n=new Set,t={},a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value,d=!0,u=!1,p=void 0;try{for(var h,f=c.types[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var g=h.value;n.add(g)}}catch(m){u=!0,p=m}finally{try{!d&&f["return"]&&f["return"]()}finally{if(u)throw p}}}}catch(m){r=!0,i=m}finally{try{!a&&l["return"]&&l["return"]()}finally{if(r)throw i}}var v=[].concat(s(n));v.sort(function(e,n){return e<n?-1:e>n?1:0});var y=!0,b=!1,$=void 0;try{for(var x,w=v[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var k=x.value;t[k]=!1}}catch(m){b=!0,$=m}finally{try{!y&&w["return"]&&w["return"]()}finally{if(b)throw $}}return t}},{key:"onBuild",value:function(){var e=[];this.errors=[],this.warning=[];var n=!0,t=!1,a=void 0;try{for(var s,r=this.$storage.config.expansions[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var i=s.value;i.use&&e.push(i.name)}}catch(o){t=!0,a=o}finally{try{!n&&r["return"]&&r["return"]()}finally{if(t)throw a}}if(this.$log.debug(e),0!==e.length){var l=[],c=!0,d=!1,p=void 0;try{for(var h,f=this.cards[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var g=h.value;e.indexOf(g.set)!==-1&&l.push(g)}}catch(o){d=!0,p=o}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw p}}this.createPlayset(l,this.$storage.config),this.errors.length?this.playset=new u["default"]:(this.playset.setRequiredCards(this.supplyCards),this.playset.sortCards(),this.playset.getPlaysetId(),this.$state.transitionTo("playset"),this.$storage.playset=this.playset)}}},{key:"createPlayset",value:function(e,n){this.$log.debug("generating playset"),this.playset=new u["default"],this.getMinimumNeededCards(e,n),this.$log.debug("--------> MINIMUM REQUIRED CARDS COMPLETE, PLAYSET HAS "+this.playset.cards.length+" CARDS"),this.errors.length>0||(this.getRemainingCards(e,n),this.errors.length>0||(this.$log.debug("playset built"),this.$log.debug(this.playset)))}},{key:"getRemainingCards",value:function(e,n){for(var t=1;t<6;){this.$log.debug("ATTEMPT #"+t+" FOR REMAINING CARDS");for(var a=[],s=Object.assign([],e);this.playset.cards.length<10;){if(0===s.length){this.$log.debug("ATTEMPT #"+t+" FAILED");var r=!0,i=!1,o=void 0;try{for(var l,c=a[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;this.playset.removeCard(d)}}catch(u){i=!0,o=u}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw o}}break}var p=this.randomNumber(s.length),h=s.splice(p,1)[0];this.$log.debug("trying "+h.name),this.checkValidCard(h,n)&&(a.push(h),this.playset.addCard(h),this.$log.debug("PLAYSET LENGTH IS NOW "+this.playset.cards.length+". NEED "+(10-this.playset.cards.length)+" MORE CARDS"))}this.playset.cards.length<10?(t++,5===t&&(n.cost=100,this.warning.push("Increased Max Cost"))):t=10}this.playset.cards.length<10&&this.errors.push("could not complete the playset with these options")}},{key:"getMinimumNeededCards",value:function(e,n){var t=this,a=function(a){if(0!==n.adds[a].min&&0!==n.adds[a].max){var s=1;for(t.$log.debug(a.toUpperCase()+" - Minimum:"+n.adds[a].min+" | Current:"+t.playset.adds[a]);s<6;){t.$log.debug("ATTEMPT #"+s+" FOR "+a.toUpperCase());for(var r=[],i=e.filter(function(e){return e.adds[a]>0});t.playset.adds[a]<n.adds[a].min;){if(t.$log.debug("LENGTH OF THE "+a.toUpperCase()+" SUBSET: "+i.length),0===i.length||t.playset.length>10){t.$log.debug("CANNOT FIND SET FOR "+a.toUpperCase()+" ON ATTEMPT "+s);var o=!0,l=!1,c=void 0;try{for(var d,u=r[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;t.playset.removeCard(p)}}catch(h){l=!0,c=h}finally{try{!o&&u["return"]&&u["return"]()}finally{if(l)throw c}}break}var f=t.randomNumber(i.length),g=i.splice(f,1)[0];t.$log.debug("trying "+g.name),t.checkValidCard(g,n)&&(r.push(g),t.playset.addCard(g)),t.$log.debug("TOTAL "+a.toUpperCase()+" IS NOW "+t.playset.adds[a]+". NEED "+(n.adds[a].min-t.playset.adds[a])+" MORE "+a.toUpperCase()+"s")}t.playset.adds[a]>=n.adds[a].min?s=10:s++}if(10!==s)return t.$log.debug("!!!! TOO MANY ATTEMPTS FOR "+a.toUpperCase()+" requirement"),t.errors.push("Too many attempts to match the "+a+" requirement"),{v:void 0};t.$log.debug("!!!! FINISHED - "+a.toUpperCase()+": Total "+a+" is "+t.playset.adds[a]+", required was "+n.adds[a].min+" !!!!")}};for(var s in n.adds){var r=a(s);if("object"===("undefined"==typeof r?"undefined":i(r)))return r.v}for(var o in n.adds)this.playset.adds[o]>n.adds[o].max&&(n.adds[o].max=this.playset.adds[o],this.warning.push("Had to increase "+o+" max limit"));this.$log.debug("!!!! FINISHED - ATTRMIN - Current playset cards is "+this.playset.cards.length+" !!!!")}},{key:"checkValidCard",value:function(e,n){var t={};if(t.buy=0===n.adds.buy.max?100:n.adds.buy.max,t.draw=0===n.adds.draw.max?100:n.adds.draw.max,t.action=0===n.adds.action.max?100:n.adds.action.max,t.coin=0===n.adds.coin.max?100:n.adds.coin.max,this.playset.cards.indexOf(e)!==-1)return this.$log.debug(e.name+" IN the playset"),!1;this.$log.debug(e.name+" NOT in the playset");var a=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1;if(!(this.playset.cost+a<=n.cost))return this.$log.debug("Skip "+e.name+": cost -> "+a+", + "+this.playset.cost+" > "+n.cost),!1;this.$log.debug("Add "+e.name+": cost -> "+a+" + "+this.playset.cost+" < "+n.cost);var s=e.requires.includes("Curse")?1:0;if(!(this.playset.curse+s<=n.limits.curse))return this.$log.debug("Skip "+e.name+": curse -> "+s+", + "+this.playset.curse+" > "+n.limits.curse),!1;this.$log.debug("Add "+e.name+": curse -> "+s+" + "+this.playset.curse+" < "+n.limits.curse);for(var r in this.playset.types)if({}.hasOwnProperty.call(this.playset.types,r)){var i=e.types.includes(r)?1:0;if(!(this.playset.types[r]+i<=n.limits[r]))return this.$log.debug("Skip "+e.name+": "+r+" -> "+i+", + "+this.playset.types[r]+" > "+n.limits[r]),!1;this.$log.debug("Add "+e.name+": "+r+" -> "+i+" + "+this.playset.types[r]+" < "+n.limits[r])}for(var o in this.playset.adds)if({}.hasOwnProperty.call(this.playset.adds,o)){var l=e.adds[o];if(!(this.playset.adds[o]+l<=t[o]))return this.$log.debug("Skip "+e.name+": "+o+" -> "+l+" + "+this.playset.adds[o]+" > "+t[o]),!1;this.$log.debug("Add "+e.name+": "+o+" -> "+l+" + "+this.playset.adds[o]+" < "+t[o])}return this.$log.debug("Adding "+e.name+", passes all requirements"),!0}},{key:"randomNumber",value:function(e){return Math.floor(Math.random()*e)}},{key:"resetOptions",value:function(){var e=this;this._ds.getSets().then(function(n){var t=JSON.parse(JSON.stringify(c["default"]));t.expansions=n,e.$storage.config=t})}},{key:"toggleShare",value:function(){this.shareOpen=!this.shareOpen}}]),e}();n.DomEngine={templateUrl:"app/containers/DomEngine.html",controller:p}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){return{restrict:"A",link:function(e,n){var t=function(){n.parent().children().css({display:"inline-block"}),n.css({display:"none"})};n.on("error",function(){return t()})}}};n["default"]=t},function(e,n){"use strict";function t(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),r=function(){function e(){a(this,e),this.cards=[],this.types={attack:0,duration:0,reaction:0,treasure:0,victory:0},this.adds={buy:0,action:0,draw:0,coin:0},this.curse=0,this.cost=0,this.requiredCards={supply:{},other:{}},this.id=""}return s(e,[{key:"importPlayset",value:function(e,n){return this.parseCardString(e,n),this.setRequiredCards(n),this.setPlaysetValues(),this.getPlaysetId(),this}},{key:"parseCardString",value:function(e,n){var t=e.split(/(?=[A-Z])/);this.cards=n.filter(function(e){return t.indexOf(e.id)>-1})}},{key:"setPlaysetValues",value:function(){var e=!0,n=!1,t=void 0;try{for(var a,s=this.cards[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var r=a.value;for(var i in this.types)r.types.includes(i)&&(this.types[i]+=1);for(var o in this.adds)({}).hasOwnProperty.call(this.adds,o)&&(this.adds[o]+=parseInt(r.adds[o],10));this.curse+=r.requires.includes("Curse")?1:0,this.cost+=r.cost.coin?parseInt(r.cost.coin.replace(/[\D]/gi,""),10):1}}catch(l){n=!0,t=l}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw t}}}},{key:"addCard",value:function(e){this.cards.push(e),this.cost+=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1,this.curse+=e.requires.includes("Curse")?1:0;for(var n in this.types)e.types.includes(n)&&(this.types[n]+=1);for(var t in this.adds)({}).hasOwnProperty.call(this.adds,t)&&(this.adds[t]+=parseInt(e.adds[t],10))}},{key:"removeCard",value:function(e){this.cards.splice(this.cards.indexOf(e),1),this.cost-=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1,this.curse-=e.requires.includes("Curse")?1:0;for(var n in this.types)e.types.includes(n)&&(this.types[n]-=1);for(var t in this.adds)({}).hasOwnProperty.call(this.adds,t)&&(this.adds[t]-=parseInt(e.adds[t],10))}},{key:"setRequiredCards",value:function(e){var n=this,a=0,s=new Set(["Copper","Silver","Gold","Estate","Duchy","Province"]),r=new Set,i=new Set,o=!0,l=!1,c=void 0;try{for(var d,u=this.cards[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;"Prosperity"===p.set&&a++;var h=new Set(p.requires);s=new Set([].concat(t(s),t(h)))}}catch(f){l=!0,c=f}finally{try{!o&&u["return"]&&u["return"]()}finally{if(l)throw c}}if(a>=5){var g=new Set(["Colony","Platinum"]);s=new Set([].concat(t(s),t(g)))}var m=!0,v=!1,y=void 0;try{for(var b,$=function(){var t=b.value,a=e.filter(function(e){return t===e.name});a[0]?a[0].types.includes("supply")?r.add(a[0]):i.add(a[0]):n.errors.push("Cannot find required card "+t)},x=s[Symbol.iterator]();!(m=(b=x.next()).done);m=!0)$()}catch(f){v=!0,y=f}finally{try{!m&&x["return"]&&x["return"]()}finally{if(v)throw y}}this.requiredCards={supply:[].concat(t(r)),other:[].concat(t(i))}}},{key:"sortCards",value:function(){this.cards.sort(function(e,n){var t=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1,a=n.cost.coin?parseInt(n.cost.coin.replace(/[\D]/gi,""),10):1;return t<a?-1:t>a?1:0})}},{key:"getPlaysetId",value:function(){var e="",n=!0,t=!1,a=void 0;try{for(var s,r=this.cards[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var i=s.value;e=e.concat(i.id)}}catch(o){t=!0,a=o}finally{try{!n&&r["return"]&&r["return"]()}finally{if(t)throw a}}return this.id=e,e}}]),e}();n["default"]=r},function(e,n){"use strict";function t(e,n,t){t.html5Mode(!0).hashPrefix("!"),n.otherwise("/"),e.state("welcome",{url:"/?p",template:'<welcome on-build="$ctrl.onBuild()" expansions="$ctrl.$storage.config.expansions"></welcome>'}).state("inventory",{url:"/inventory",template:'<inventory expansions="$ctrl.expansions" inventory="$ctrl.inventory" card-types="$ctrl.cardTypes"></inventory>'}).state("advancedOptions",{url:"/advanced-options",template:'<advanced-options config="$ctrl.$storage.config" on-build="$ctrl.onBuild()" reset-options="$ctrl.resetOptions()"></advanced-options>'}).state("playset",{url:"/playset",template:'<playmat playset="$ctrl.$storage.playset" on-build="$ctrl.onBuild()" errors="$ctrl.errors" warning="$ctrl.warning" toggle-share="$ctrl.toggleShare()" share-open="$ctrl.shareOpen"></playmat>'}).state("about",{url:"/about",template:"<about></about>"})}t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=t},function(e,n){"use strict";function t(e){e.$on("$stateChangeSuccess",function(n,t,a,s){e.$state=t.name,e.$previousState=s.name})}t.$inject=["$rootScope"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=t},,,function(e,n,t){t(2),e.exports=t(1)}],[33]);